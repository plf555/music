webpackJsonp([10],{J262:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n("BO1k"),r=n.n(e),o=n("gyMJ"),i={data:function(){return{consumerCount:0,songCount:0,singerCount:0,songListCount:0,consumer:[],songList:[],singer:[],consumerSex:{columns:["性别","总数"],rows:[{"性别":"男","总数":0},{"性别":"女","总数":0}]},options:{color:["#87cefa","#ffc0cb"]},options1:{color:["yellow"]},songStyle:{columns:["风格","总数"],rows:[{"风格":"华语","总数":0},{"风格":"粤语","总数":0},{"风格":"欧美","总数":0},{"风格":"日韩","总数":0},{"风格":"摇滚","总数":0},{"风格":"民谣","总数":0},{"风格":"流行","总数":0},{"风格":"其他","总数":0}]},singerSex:{columns:["性别","总数"],rows:[{"性别":"女","总数":0},{"性别":"男","总数":0},{"性别":"组合","总数":0},{"性别":"不明","总数":0}]},country:{columns:["国籍","总数"],rows:[{"国籍":"中国","总数":0},{"国籍":"韩国","总数":0},{"国籍":"日本","总数":0},{"国籍":"美国","总数":0},{"国籍":"英国","总数":0},{"国籍":"法国","总数":0}]}}},created:function(){this.getSinger()},mounted:function(){this.getConsumer(),this.getSong(),this.getSongList()},methods:{getConsumer:function(){var t=this;Object(o.n)().then(function(s){t.consumer=s.data,t.consumerCount=s.total,t.consumerSex.rows[0]["总数"]=t.setSex(1,t.consumer),t.consumerSex.rows[1]["总数"]=t.setSex(0,t.consumer)})},setSex:function(t,s){var n=0,e=!0,o=!1,i=void 0;try{for(var a,c=r()(s);!(e=(a=c.next()).done);e=!0){t==a.value.sex&&n++}}catch(t){o=!0,i=t}finally{try{!e&&c.return&&c.return()}finally{if(o)throw i}}return n},getSong:function(){var t=this;Object(o.c)().then(function(s){t.songCount=s.total})},getSinger:function(){var t=this;Object(o.a)().then(function(s){t.singer=s.data,t.singerCount=s.total,t.singerSex.rows[0]["总数"]=t.setSex(0,t.singer),t.singerSex.rows[1]["总数"]=t.setSex(1,t.singer),t.singerSex.rows[2]["总数"]=t.setSex(2,t.singer),t.singerSex.rows[3]["总数"]=t.setSex(3,t.singer),t.getByCountry(s.data)})},getSongList:function(){var t=this;Object(o.q)().then(function(s){t.songListCount=s.total,t.songList=s.data;var n=!0,e=!1,o=void 0;try{for(var i,a=r()(t.songList);!(n=(i=a.next()).done);n=!0){var c=i.value;t.getByStyle(c.style)}}catch(t){e=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(e)throw o}}})},getByStyle:function(t){var s=!0,n=!1,e=void 0;try{for(var o,i=r()(this.songStyle.rows);!(s=(o=i.next()).done);s=!0){var a=o.value;t.includes(a["风格"])&&a["总数"]++,t.includes(a["其他"])&&a["总数"]++}}catch(t){n=!0,e=t}finally{try{!s&&i.return&&i.return()}finally{if(n)throw e}}},getByCountry:function(t){var s,n=this;t.map(function(t){n.country.rows.map(function(s){t.location.includes(s["国籍"])&&s["总数"]++})});var e=this.country.rows.map(function(t){return t["总数"]});console.log(e);var r=e.reduce(function(t,s,n,e){return t+s});s=t.length-r,this.country.rows.push({"国籍":"其他","总数":s})}}},a={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("el-row",{staticClass:"mgb20",staticStyle:{"margin-top":"15px"},attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("el-card",[n("div",{staticClass:"grid-content"},[n("div",{staticClass:"grid-cont-center"},[n("div",{staticClass:"grid-num"},[t._v(t._s(t.consumerCount))]),t._v(" "),n("div",[t._v("用户总数")])])])])],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-card",[n("div",{staticClass:"grid-content"},[n("div",{staticClass:"grid-cont-center"},[n("div",{staticClass:"grid-num"},[t._v(t._s(t.songCount))]),t._v(" "),n("div",[t._v("歌曲总数")])])])])],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-card",[n("div",{staticClass:"grid-content"},[n("div",{staticClass:"grid-cont-center"},[n("div",{staticClass:"grid-num"},[t._v(t._s(t.singerCount))]),t._v(" "),n("div",[t._v("歌手数量")])])])])],1),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-card",[n("div",{staticClass:"grid-content"},[n("div",{staticClass:"grid-cont-center"},[n("div",{staticClass:"grid-num"},[t._v(t._s(t.songListCount))]),t._v(" "),n("div",[t._v("歌单数量")])])])])],1)],1),t._v(" "),n("el-row",{staticClass:"mgb20",attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("h3",{staticClass:"mgb20"},[t._v("用户性别比例")]),t._v(" "),n("div",{staticStyle:{"background-color":"white"}},[n("ve-pie",{attrs:{data:t.consumerSex,theme:t.options}})],1)]),t._v(" "),n("el-col",{attrs:{span:12}},[n("h3",{staticClass:"mgb20"},[t._v("歌曲类型分布")]),t._v(" "),n("div",{staticStyle:{"background-color":"white"}},[n("ve-histogram",{attrs:{data:t.songStyle}})],1)])],1),t._v(" "),n("el-row",{staticClass:"mgb20",attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("h3",{staticClass:"mgb20"},[t._v("歌手性别比例")]),t._v(" "),n("div",{staticStyle:{"background-color":"white"}},[n("ve-pie",{attrs:{data:t.singerSex}})],1)]),t._v(" "),n("el-col",{attrs:{span:12}},[n("h3",{staticClass:"mgb20"},[t._v("歌手国籍分布")]),t._v(" "),n("div",{staticStyle:{"background-color":"white"}},[n("ve-histogram",{attrs:{data:t.country,theme:t.options1}})],1)])],1)],1)},staticRenderFns:[]};var c=n("VU/8")(i,a,!1,function(t){n("ST9l")},"data-v-22b513e5",null);s.default=c.exports},ST9l:function(t,s){}});
//# sourceMappingURL=10.fc2cb63aa95a11789f3e.js.map