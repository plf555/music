webpackJsonp([6],{"+lIA":function(e,a){},tj2P:function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=l("BO1k"),i=l.n(t),n=l("gyMJ"),r=l("95YI"),o=l.n(r),s=l("msXN"),u={components:{"v-distpicker":o.a},mixins:[s.a],data:function(){return{centerDialogVisible:!1,editVisible:!1,delVisible:!1,registerForm:{name:"",sex:"",birth:"",location:"",introduction:""},form:{id:"",name:"",sex:"",birth:"",location:"",introduction:""},name:"",tableData:[],tempData:[],select_word:"",pageSize:10,pageNum:1,total:0,idx:-1,multipleSelection:[],singer:{},country:[{label:"热门国家",options:[{value:"China",label:"中国"}]},{label:"所有国家",options:[{value:"Angola",label:"安哥拉"},{value:"Afghanistan",label:"阿富汗"},{value:"Albania",label:"阿尔巴尼亚"},{value:"Algeria",label:"阿尔及利亚"},{value:"Andorra",label:"安道尔共和国"},{value:"Anguilla",label:"安圭拉岛"},{value:"Antigua and Barbuda",label:"安提瓜和巴布达"},{value:"Argentina",label:"阿根廷"},{value:"Armenia",label:"亚美尼亚"},{value:"Ascension",label:"阿森松"},{value:"Australia",label:"澳大利亚"},{value:"Austria",label:"奥地利"},{value:"Azerbaijan",label:"阿塞拜疆"},{value:"Bahamas",label:"巴哈马"},{value:"Bahrain",label:"巴林"},{value:"Bangladesh",label:"孟加拉国"},{value:"Barbados",label:"巴巴多斯"},{value:"Belarus",label:"白俄罗斯"},{value:"Belgium",label:"比利时"},{value:"Belize",label:"伯利兹"},{value:"Benin",label:"贝宁"},{value:"Bermuda Is",label:"百慕大群岛"},{value:"Bolivia",label:"玻利维亚"},{value:"Botswana",label:"博茨瓦纳"},{value:"Brazil",label:"巴西"},{value:"Brunei",label:"文莱"},{value:"Bulgaria",label:"保加利亚"},{value:"Burkina Faso",label:"布基纳法索"},{value:"Burma",label:"缅甸"},{value:"Burundi",label:"布隆迪"},{value:"Cameroon",label:"喀麦隆"},{value:"Canada",label:"加拿大"},{value:"Cayman Is",label:"开曼群岛"},{value:"Central African Republic",label:"中非共和国"},{value:"Chad",label:"乍得"},{value:"Chile",label:"智利"},{value:"China",label:"中国"},{value:"Colombia",label:"哥伦比亚"},{value:"Congo",label:"刚果"},{value:"Cook Is",label:"库克群岛"},{value:"Costa Rica",label:"哥斯达黎加"},{value:"Cuba",label:"古巴"},{value:"Cyprus",label:"塞浦路斯"},{value:"Czech Republic",label:"捷克"},{value:"Denmark",label:"丹麦"},{value:"Djibouti",label:"吉布提"},{value:"Dominica Rep",label:"多米尼加共和国"},{value:"Ecuador",label:"厄瓜多尔"},{value:"Egypt",label:"埃及"},{value:"EI Salvador",label:"萨尔瓦多"},{value:"Estonia",label:"爱沙尼亚"},{value:"Ethiopia",label:"埃塞俄比亚"},{value:"Fiji",label:"斐济"},{value:"Finland",label:"芬兰"},{value:"France",label:"法国"},{value:"French Guiana",label:"法属圭亚那"},{value:"French Polynesia",label:"法属玻利尼西亚"},{value:"Gabon",label:"加蓬"},{value:"Gambia",label:"冈比亚"},{value:"Georgia",label:"格鲁吉亚"},{value:"Germany",label:"德国"},{value:"Ghana",label:"加纳"},{value:"Gibraltar",label:"直布罗陀"},{value:"Greece",label:"希腊"},{value:"Grenada",label:"格林纳达"},{value:"Guam",label:"关岛"},{value:"Guatemala",label:"危地马拉"},{value:"Guinea",label:"几内亚"},{value:"Guyana",label:"圭亚那"},{value:"Haiti",label:"海地"},{value:"Honduras",label:"洪都拉斯"},{value:"Hungary",label:"匈牙利"},{value:"Iceland",label:"冰岛"},{value:"India",label:"印度"},{value:"Indonesia",label:"印度尼西亚"},{value:"Iran",label:"伊朗"},{value:"Iraq",label:"伊拉克"},{value:"Ireland",label:"爱尔兰"},{value:"Israel",label:"以色列"},{value:"Italy",label:"意大利"},{value:"Ivory Coast",label:"科特迪瓦"},{value:"Jamaica",label:"牙买加"},{value:"Japan",label:"日本"},{value:"Jordan",label:"约旦"},{value:"Kampuchea (Cambodia )",label:"柬埔寨"},{value:"Kazakstan",label:"哈萨克斯坦"},{value:"Kenya",label:"肯尼亚"},{value:"Korea",label:"韩国"},{value:"Kuwait",label:"科威特"},{value:"Kyrgyzstan",label:"吉尔吉斯坦"},{value:"Laos",label:"老挝"},{value:"Latvia",label:"拉脱维亚"},{value:"Lebanon",label:"黎巴嫩"},{value:"Lesotho",label:"莱索托"},{value:"Liberia",label:"利比里亚"},{value:"Libya",label:"利比亚"},{value:"Liechtenstein",label:"列支敦士登"},{value:"Lithuania",label:"立陶宛"},{value:"Luxembourg",label:"卢森堡"},{value:"Madagascar",label:"马达加斯加"},{value:"Malawi",label:"马拉维"},{value:"Malaysia",label:"马来西亚"},{value:"Maldives",label:"马尔代夫"},{value:"Mali",label:"马里"},{value:"Malta",label:"马耳他"},{value:"Mariana Is",label:"马里亚那群岛"},{value:"Martinique",label:"马提尼克"},{value:"Mauritius",label:"毛里求斯"},{value:"Mexico",label:"墨西哥"},{value:"Moldova",label:"摩尔多瓦"},{value:"Monaco",label:"摩纳哥"},{value:"Mongolia",label:"蒙古"},{value:"Montserrat Is",label:"蒙特塞拉特岛"},{value:"Morocco",label:"摩洛哥"},{value:"Mozambique",label:"莫桑比克"},{value:"Namibia",label:"纳米比亚"},{value:"Nauru",label:"瑙鲁"},{value:"Nepal",label:"尼泊尔"},{value:"Netheriands Antilles",label:"荷属安的列斯"},{value:"Netherlands",label:"荷兰"},{value:"New Zealand",label:"新西兰"},{value:"Nicaragua",label:"尼加拉瓜"},{value:"Niger",label:"尼日尔"},{value:"Nigeria",label:"尼日利亚"},{value:"North Korea",label:"朝鲜"},{value:"Norway",label:"挪威"},{value:"Oman",label:"阿曼"},{value:"Pakistan",label:"巴基斯坦"},{value:"Panama",label:"巴拿马"},{value:"Papua New Cuinea",label:"巴布亚新几内亚"},{value:"Paraguay",label:"巴拉圭"},{value:"Peru",label:"秘鲁"},{value:"Philippines",label:"菲律宾"},{value:"Poland",label:"波兰"},{value:"Portugal",label:"葡萄牙"},{value:"Puerto Rico",label:"波多黎各"},{value:"Qatar",label:"卡塔尔"},{value:"Reunion",label:"留尼旺"},{value:"Romania",label:"罗马尼亚"},{value:"Russia",label:"俄罗斯"},{value:"Saint Lueia",label:"圣卢西亚"},{value:"Saint Vincent",label:"圣文森特岛"},{value:"Samoa Eastern",label:"东萨摩亚(美)"},{value:"Samoa Western",label:"西萨摩亚"},{value:"San Marino",label:"圣马力诺"},{value:"Sao Tome and Principe",label:"圣多美和普林西比"},{value:"Saudi Arabia",label:"沙特阿拉伯"},{value:"Senegal",label:"塞内加尔"},{value:"Seychelles",label:"塞舌尔"},{value:"Sierra Leone",label:"塞拉利昂"},{value:"Singapore",label:"新加坡"},{value:"Slovakia",label:"斯洛伐克"},{value:"Slovenia",label:"斯洛文尼亚"},{value:"Solomon Is",label:"所罗门群岛"},{value:"Somali",label:"索马里"},{value:"South Africa",label:"南非"},{value:"Spain",label:"西班牙"},{value:"SriLanka",label:"斯里兰卡"},{value:"St.Lucia",label:"圣卢西亚"},{value:"St.Vincent",label:"圣文森特"},{value:"Sudan",label:"苏丹"},{value:"Suriname",label:"苏里南"},{value:"Swaziland",label:"斯威士兰"},{value:"Sweden",label:"瑞典"},{value:"Switzerland",label:"瑞士"},{value:"Syria",label:"叙利亚"},{value:"Tajikstan",label:"塔吉克斯坦"},{value:"Tanzania",label:"坦桑尼亚"},{value:"Thailand",label:"泰国"},{value:"Togo",label:"多哥"},{value:"Tonga",label:"汤加"},{value:"Trinidad and Tobago",label:"特立尼达和多巴哥"},{value:"Tunisia",label:"突尼斯"},{value:"Turkey",label:"土耳其"},{value:"Turkmenistan",label:"土库曼斯坦"},{value:"Uganda",label:"乌干达"},{value:"Ukraine",label:"乌克兰"},{value:"United Arab Emirates",label:"阿拉伯联合酋长国"},{value:"United Kiongdom",label:"英国"},{value:"United States of America",label:"美国"},{value:"Uruguay",label:"乌拉圭"},{value:"Uzbekistan",label:"乌兹别克斯坦"},{value:"Venezuela",label:"委内瑞拉"},{value:"Vietnam",label:"越南"},{value:"Yemen",label:"也门"},{value:"Yugoslavia",label:"南斯拉夫"},{value:"Zimbabwe",label:"津巴布韦"},{value:"Zaire",label:"扎伊尔"},{value:"Zambia",label:"赞比亚"}]}]}},computed:{data:function(){return this.tableData.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize)}},watch:{select_word:function(){if(""==this.select_word)this.tableData=this.tempData;else{this.tableData=[];var e=!0,a=!1,l=void 0;try{for(var t,n=i()(this.tempData);!(e=(t=n.next()).done);e=!0){var r=t.value;r.name.includes(this.select_word)&&this.tableData.push(r)}}catch(e){a=!0,l=e}finally{try{!e&&n.return&&n.return()}finally{if(a)throw l}}}}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){this.pageNum=e,this.getData()},handleSizeChange:function(e){this.pageSize=e,this.getData()},getData:function(){var e=this;this.tempData=[],this.tableData=[];var a={pageSize:this.pageSize,pageNum:this.pageNum,singerName:this.name};Object(n.p)(a).then(function(a){e.tempData=a.data.records,e.tableData=a.data.records,e.total=a.data.total})},addSinger:function(){var e=this;this.singer.name=this.registerForm.name,this.singer.sex=this.registerForm.sex,this.singer.birth=this.registerForm.birth,this.singer.location=this.registerForm.location,this.singer.introduction=this.registerForm.introduction;var a=this.singer;Object(n.z)(a).then(function(a){1==a.code?(e.getData(),e.notify(a.message,"success")):e.notify(a.message,"error")}).catch(function(e){console.log(e)}),this.centerDialogVisible=!1},handleEdit:function(e){this.editVisible=!0,this.form={id:e.id,name:e.name,sex:e.sex,birth:e.birth,location:e.location,introduction:e.introduction}},editSave:function(){var e=this,a=this.form.birth;this.singer.id=this.form.id,this.singer.name=this.form.name,this.singer.sex=this.form.sex,this.singer.pic=null,this.singer.birth=a,this.singer.location=this.form.location,this.singer.introduction=this.form.introduction;var l=this.singer;Object(n.E)(l).then(function(a){1==a.code?(e.getData(),e.notify(a.message,"success")):e.notify(a.message,"error")}).catch(function(e){console.log(e)}),this.editVisible=!1},uploadUrl:function(e){return this.$store.state.HOST+"/singer/updateSingerPic?id="+e},deleteRow:function(){var e=this;Object(n.g)(this.idx).then(function(a){a?(e.getData(),e.notify(a.message,"success")):e.notify(a.message,"error")}).catch(function(e){console.log(e)}),this.delVisible=!1},songEdit:function(e,a){this.$router.push({path:"/Song",query:{id:e,name:a}})}}},b={render:function(){var e=this,a=e.$createElement,l=e._self._c||a;return l("div",{staticClass:"table"},[l("div",{staticClass:"container"},[l("div",{staticClass:"handle-box"},[e._v("\n            在当前页搜索：\n            "),l("el-input",{staticClass:"handle-input",attrs:{size:"mini",placeholder:"请输入歌手名"},model:{value:e.select_word,callback:function(a){e.select_word=a},expression:"select_word"}}),e._v(" "),l("br"),e._v(" "),l("br"),e._v("\n            搜  索  全  部 ：\n            "),l("el-input",{staticClass:"handle-input",attrs:{size:"mini",placeholder:"请输入歌手名"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getData}},[e._v("搜索")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.delBatch}},[e._v("批量删除")]),e._v(" "),l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){e.centerDialogVisible=!0}}},[e._v("添加歌手")])],1)]),e._v(" "),l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{size:"mini",border:"",height:"680px",data:this.tableData},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),l("el-table-column",{attrs:{label:"歌手图片",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[l("div",{staticClass:"singer-img"},[l("img",{staticStyle:{width:"100%"},attrs:{src:e.getUrl(a.row.pic)}})]),e._v(" "),l("el-upload",{attrs:{action:e.uploadUrl(a.row.id),"before-upload":e.beforeAvatarUpload,"on-success":e.handleAvatarSuccess}},[l("el-button",{attrs:{size:"mini"}},[e._v("更改图片")])],1)]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"name",label:"歌手",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{label:"性别",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n                "+e._s(e.changeSex(a.row.sex))+"\n            ")]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"生日",width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v("\n                "+e._s(e.attachBirth(a.row.birth))+"\n            ")]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"location",label:"地区",width:"100",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"introduction",label:"简介",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{label:"歌曲管理",width:"110",align:"center",prop:"introduction"},scopedSlots:e._u([{key:"default",fn:function(a){return[l("el-button",{attrs:{size:"mini"},on:{click:function(l){return e.songEdit(a.row.id,a.row.name)}}},[e._v("歌曲管理")])]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[l("el-button",{attrs:{size:"mini"},on:{click:function(l){return e.handleEdit(a.row)}}},[e._v("编辑")]),e._v(" "),l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){return e.handleDelete(a.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),l("div",{staticClass:"pagination",staticStyle:{"text-align":"right"}},[l("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total > 0"}],attrs:{background:"",page:e.pageNum,"page-sizes":[2,10,20,50],limit:e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:page":function(a){e.pageNum=a},"update:limit":function(a){e.pageSize=a}}})],1),e._v(" "),l("el-dialog",{attrs:{title:"添加歌手",visible:e.centerDialogVisible,width:"400px",center:""},on:{"update:visible":function(a){e.centerDialogVisible=a}}},[l("el-form",{ref:"registerForm",attrs:{model:e.registerForm,"label-width":"80px"}},[l("el-form-item",{attrs:{prop:"name",label:"歌手名",size:"mini"}},[l("el-input",{attrs:{placeholder:"歌手名"},model:{value:e.registerForm.name,callback:function(a){e.$set(e.registerForm,"name",a)},expression:"registerForm.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"性别",size:"mini"}},[l("el-radio-group",{model:{value:e.registerForm.sex,callback:function(a){e.$set(e.registerForm,"sex",a)},expression:"registerForm.sex"}},[l("el-radio",{attrs:{label:0}},[e._v("女")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),l("el-radio",{attrs:{label:2}},[e._v("组合")]),e._v(" "),l("el-radio",{attrs:{label:3}},[e._v("不明")])],1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"birth",label:"生日",size:"mini"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.registerForm.birth,callback:function(a){e.$set(e.registerForm,"birth",a)},expression:"registerForm.birth"}})],1),e._v(" "),l("el-form-item",{attrs:{prop:"location",label:"地区",size:"mini"}},[l("el-select",{staticStyle:{width:"77.9%"},attrs:{placeholder:"请选择国籍",filterable:""},model:{value:e.registerForm.location,callback:function(a){e.$set(e.registerForm,"location",a)},expression:"registerForm.location"}},e._l(e.country,function(a){return l("el-option-group",{key:a.label,attrs:{label:a.label}},e._l(a.options,function(a){return l("el-option",{key:a.value,attrs:{label:a.label,value:a.label}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),e._v(" "),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.value))])])}),1)}),1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"introduction",label:"简介",size:"mini"}},[l("el-input",{attrs:{placeholder:"简介",type:"textarea"},model:{value:e.registerForm.introduction,callback:function(a){e.$set(e.registerForm,"introduction",a)},expression:"registerForm.introduction"}})],1)],1),e._v(" "),l("span",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"mini"},on:{click:function(a){e.centerDialogVisible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:e.addSinger}},[e._v("确定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"修改歌手",visible:e.editVisible,width:"400px",center:""},on:{"update:visible":function(a){e.editVisible=a}}},[l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[l("el-form-item",{attrs:{prop:"name",label:"歌手名",size:"mini"}},[l("el-input",{attrs:{placeholder:"歌手名"},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"性别",size:"mini"}},[l("el-radio-group",{model:{value:e.form.sex,callback:function(a){e.$set(e.form,"sex",a)},expression:"form.sex"}},[l("el-radio",{attrs:{label:0}},[e._v("女")]),e._v(" "),l("el-radio",{attrs:{label:1}},[e._v("男")]),e._v(" "),l("el-radio",{attrs:{label:2}},[e._v("组合")]),e._v(" "),l("el-radio",{attrs:{label:3}},[e._v("不明")])],1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"birth",label:"生日",size:"mini"}},[l("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.form.birth,callback:function(a){e.$set(e.form,"birth",a)},expression:"form.birth"}})],1),e._v(" "),l("el-form-item",{attrs:{prop:"location",label:"地区",size:"mini"}},[l("el-select",{staticStyle:{width:"77.9%"},attrs:{placeholder:"请选择国籍",filterable:""},model:{value:e.form.location,callback:function(a){e.$set(e.form,"location",a)},expression:"form.location"}},e._l(e.country,function(a){return l("el-option-group",{key:a.label,attrs:{label:a.label}},e._l(a.options,function(a){return l("el-option",{key:a.value,attrs:{label:a.label,value:a.label}},[l("span",{staticStyle:{float:"left"}},[e._v(e._s(a.label))]),e._v(" "),l("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(a.value))])])}),1)}),1)],1),e._v(" "),l("el-form-item",{attrs:{prop:"introduction",label:"简介",size:"mini"}},[l("el-input",{attrs:{placeholder:"简介",type:"textarea"},model:{value:e.form.introduction,callback:function(a){e.$set(e.form,"introduction",a)},expression:"form.introduction"}})],1)],1),e._v(" "),l("span",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"mini"},on:{click:function(a){e.editVisible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:e.editSave}},[e._v("确定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"删除歌手",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(a){e.delVisible=a}}},[l("div",{attrs:{align:"center"}},[e._v("删除不可恢复，是否确定删除？")]),e._v(" "),l("span",{attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"mini"},on:{click:function(a){e.delVisible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:e.deleteRow}},[e._v("确定")])],1)])],1)},staticRenderFns:[]};var v=l("VU/8")(u,b,!1,function(e){l("+lIA")},"data-v-7fbde195",null);a.default=v.exports}});
//# sourceMappingURL=6.57187a7c1bf155e0e9fe.js.map