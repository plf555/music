{"version":3,"sources":["webpack:///src/pages/SongPage.vue","webpack:///./src/pages/SongPage.vue?0754","webpack:///./src/pages/SongPage.vue","webpack:///./src/assets/js/iconfont.js"],"names":["SongPage","mixins","data","singerId","singerName","centerDialogVisible","editVisible","delVisible","pauseVisible","registerForm","name","album","lyric","style","songStyle","checkedStyles","form","id","songName","tableData","tempData","select_word","pageSize","pageNum","total","idx","multipleSelection","toggle","song","styles","value","label","computed","extends_default","Object","vuex_esm","this","slice","watch","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","includes","push","err","return","created","$route","query","getData","destroyed","$store","commit","methods","handleCheckedCitiesChange","handleCurrentChange","val","handleSizeChange","_this2","params","api","then","res","records","addSong","_this","FormData","document","getElementById","set","toString","append","get","req","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","response","code","notify","message","open","state","HOST","send","handleEdit","row","editSave","_this3","song1","catch","console","log","uploadUrl","deleteRow","_this4","parseLyric","text","lines","split","pattern","result","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","replace","beforeSongUpload","file","substring","lastIndexOf","$message","type","handleSongSuccess","$notify","title","uploadSongUrl","setSongUrl","url","pages_SongPage","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","font-size","padding-top","_v","_s","attrs","size","placeholder","model","callback","$$v","expression","on","click","delBatch","$event","ref","width","border","height","selection-change","handleSelectionChange","align","scopedSlots","_u","key","fn","scope","src","getUrl","pic","xlink:href","_e","prop","overflow-y","_l","index","action","before-upload","beforeAvatarUpload","on-success","handleAvatarSuccess","handleDelete","directives","rawName","background","page","page-sizes","limit","layout","size-change","current-change","update:page","update:limit","visible","center","update:visible","label-width","$set","multiple","multiple-limit","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","a","e","n","getElementsByTagName","length","getAttribute","__iconfont__svg__cssinject__","write","addEventListener","indexOf","setTimeout","t","removeEventListener","attachEvent","o","i","c","d","documentElement","doScroll","createElement","innerHTML","setAttribute","position","overflow","firstChild","parentNode","insertBefore","appendChild","body","window"],"mappings":"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","file":"static/js/2.d79990e6f90b6fa7cae1.js","sourcesContent":["<template>\r\n    <div class=\"table\">\r\n        <div class=\"crumbs\">\r\n            <i class=\"el-icon-tickets\" style=\"font-size: 18px; padding-top: 18px\">{{this.singerName}}-音乐列表</i>\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"handle-box\">\r\n                在当前页搜索：\r\n                <el-input v-model=\"select_word\" size=\"mini\" placeholder=\"请输入歌曲名\" class=\"handle-input\"></el-input>\r\n                <br>\r\n                <br>\r\n                搜&nbsp;&nbsp;索&nbsp;&nbsp;全&nbsp;&nbsp;部&nbsp;：\r\n                <el-input v-model=\"songName\" size=\"mini\" placeholder=\"请输入歌曲名\" class=\"handle-input\"></el-input>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"getData\">搜索</el-button>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"delBatch\">批量删除</el-button>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"centerDialogVisible = true\">添加歌曲</el-button>\r\n            </div>\r\n        </div>\r\n        <el-table size=\"mini\" ref=\"multipleTable\" border style=\"width:100%\" height=\"680px\" :data=\"tableData\" @selection-change=\"handleSelectionChange\">\r\n            <el-table-column type=\"selection\" width=\"40\"></el-table-column>\r\n            <el-table-column label=\"歌曲图片\" width=\"110\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <div class=\"song-img\">\r\n                        <img :src=\"getUrl(scope.row.pic)\" style=\"width:100%\"/>\r\n                    </div>\r\n                    <div class=\"play\" @click=\"setSongUrl(scope.row.url,scope.row.name)\">\r\n                        <div v-if=\"toggle == scope.row.name\">\r\n                            <svg class=\"icon\">\r\n                                <use xlink:href=\"#icon-zanting\"></use>\r\n                            </svg>\r\n                        </div>\r\n                        <div v-if=\"toggle != scope.row.name\">\r\n                            <svg class=\"icon\">\r\n                                <use xlink:href=\"#icon-bofanganniu\"></use>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"歌名\" width=\"120\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"album\" label=\"专辑\" width=\"150\" align=\"center\"></el-table-column>\r\n            <el-table-column label=\"歌词\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <ul style=\"height:100px;overflow-y:scroll;\">\r\n                        <li v-for=\"(item,index) in parseLyric(scope.row.lyric)\" :key=\"index\">\r\n                            {{item}}\r\n                        </li>\r\n                    </ul>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"资源更新\" align=\"center\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-upload :action=\"uploadUrl(scope.row.id)\" :before-upload=\"beforeAvatarUpload\" \r\n                        :on-success=\"handleAvatarSuccess\">\r\n                        <el-button size=\"mini\">更新图片</el-button>\r\n                    </el-upload>\r\n                    <br/>\r\n                    <el-upload :action=\"uploadSongUrl(scope.row.id)\" :before-upload=\"beforeSongUpload\" \r\n                        :on-success=\"handleSongSuccess\">\r\n                        <el-button size=\"mini\">更新歌曲</el-button>\r\n                    </el-upload>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"150\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row.id)\">删除</el-button> \r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div class=\"pagination\">\r\n            <el-pagination\r\n                v-show=\"total > 0\"\r\n                background\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :page.sync=\"pageNum\"\r\n                :page-sizes=\"[1, 10, 20, 50]\"\r\n                :limit.sync=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=this.total>\r\n                \r\n            </el-pagination>\r\n        </div>\r\n\r\n        <el-dialog title=\"添加歌曲\" :visible.sync=\"centerDialogVisible\" width=\"400px\" center>\r\n            <el-form :model=\"registerForm\" ref=\"registerForm\" label-width=\"80px\" action=\"\" id=\"tf\">\r\n                <div>\r\n                    <label>歌名</label>\r\n                    <el-input v-model=\"registerForm.name\" type=\"text\" name=\"name\"></el-input>\r\n                </div>\r\n                <div>\r\n                    <label>专辑</label>\r\n                    <el-input v-model=\"registerForm.album\" type=\"text\" name=\"album\"></el-input>\r\n                </div>\r\n                <div>\r\n                    <label>歌词</label>\r\n                    <el-input v-model=\"registerForm.lyric\" type=\"textarea\" name=\"lyric\"></el-input>\r\n                </div>\r\n                <div>\r\n                    <label>风格</label>\r\n                    <el-select v-model=\"songStyle\" multiple :multiple-limit=3 name=\"style\" placeholder=\"请选择至多3项\">\r\n                        <el-option\r\n                            v-for=\"item in styles\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div>\r\n                    <label>歌曲上传</label>\r\n                    <input type=\"file\" name=\"file\">\r\n                </div>\r\n            </el-form>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"centerDialogVisible = false\">取消</el-button>\r\n                <el-button size=\"mini\" @click=\"addSong\">确定</el-button>                \r\n            </span>\r\n        </el-dialog>\r\n        <el-dialog title=\"修改歌曲\" :visible.sync=\"editVisible\" width=\"400px\" center>\r\n            <el-form :model=\"form\" ref=\"form\" label-width=\"80px\">\r\n                <el-form-item prop=\"name\" label=\"歌名\" size=\"mini\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"歌名\"></el-input>\r\n                </el-form-item>                \r\n                <el-form-item prop=\"album\" label=\"专辑\" size=\"mini\">\r\n                    <el-input v-model=\"form.album\" placeholder=\"专辑\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"lyric\" label=\"歌词\" size=\"mini\">\r\n                    <el-input v-model=\"form.lyric\" placeholder=\"歌词\" type=\"textarea\"></el-input>\r\n                </el-form-item>  \r\n                <el-form-item prop=\"style\" label=\"风格\" size=\"mini\">\r\n                    <el-select v-model=\"form.style\" multiple :multiple-limit=3 placeholder=\"请选择至多3项\">\r\n                        <el-option\r\n                            v-for=\"item in styles\"\r\n                            :key=\"item.value\"\r\n                            :label=\"item.label\"\r\n                            :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"editVisible = false\">取消</el-button>\r\n                <el-button size=\"mini\" @click=\"editSave\">确定</el-button>                \r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog title=\"删除歌曲\" :visible.sync=\"delVisible\" width=\"300px\" center>\r\n            <div align=\"center\">删除不可恢复，是否确定删除？</div>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"delVisible = false\">取消</el-button>\r\n                <el-button size=\"mini\" @click=\"deleteRow\">确定</el-button>                \r\n            </span>\r\n        </el-dialog>\r\n\r\n        <!-- 切换页面歌曲暂停弹框 -->\r\n        <el-dialog title=\"暂停歌曲？\" :visible.sync=\"pauseVisible\" width=\"300px\" center>\r\n            <div align=\"center\">是否暂停当前播放歌曲？</div>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"pauseVisible = false\" type=\"danger\">继续播放</el-button>\r\n                <el-button size=\"mini\" @click=\"deleteRow\" type=\"danger\">停止播放</el-button>                \r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mixin } from '../mixins/index';\r\nimport {mapGetters} from 'vuex';\r\nimport '@/assets/js/iconfont.js';\r\nimport {songOfSingerId,updateSong,delSong} from '../api/index';\r\n\r\nexport default {\r\n    mixins: [mixin],\r\n    data(){\r\n        return{\r\n            singerId: '',               //歌手id\r\n            singerName: '',             //歌手名\r\n            centerDialogVisible: false, //添加弹窗是否显示\r\n            editVisible: false,         //编辑弹窗是否显示\r\n            delVisible: false,          //删除弹窗是否显示\r\n            pauseVisible: false,          //切换页面弹窗是否显示\r\n            registerForm:{      //添加框\r\n                name: '',\r\n                singerName: '',                \r\n                album: '',\r\n                lyric: '',\r\n                style: ''\r\n            },\r\n            songStyle:['流行', '华语'],\r\n            checkedStyles: ['流行', '华语'], //默认歌单风格\r\n            form:{      //编辑框\r\n                id: '',\r\n                name: '',\r\n                album: '',\r\n                lyric: '',\r\n                style: ''\r\n            },\r\n            songName: '', //搜索全部输入框歌手姓名\r\n            tableData: [], //表格数据\r\n            tempData: [], //临时数据，用于当前页的模糊查询\r\n            select_word: '', //当前页模糊查询中的值\r\n            pageSize: 10,    //分页每页大小\r\n            pageNum: 1, //当前页\r\n            total: 0, //查询总数\r\n            idx: -1,  //当前选择项\r\n            multipleSelection: [],   //哪些项已经打勾\r\n            toggle: false,           //播放器的图标状态\r\n            song: {}, //歌曲对象\r\n            styles: [{\r\n                value: '华语',\r\n                label: '华语'\r\n            }, {\r\n                value: '粤语',\r\n                label: '粤语'\r\n            }, {\r\n                value: '欧美',\r\n                label: '欧美'\r\n            }, {\r\n                value: '日韩',\r\n                label: '日韩'\r\n            }, {\r\n                value: '摇滚',\r\n                label: '摇滚'\r\n            }, {\r\n                value: '民谣',\r\n                label: '民谣'\r\n            }, {\r\n                value: '流行',\r\n                label: '流行'\r\n            }, {\r\n                value: '选项8',\r\n                label: '其他'\r\n            }] //所有歌曲风格\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapGetters([\r\n            'isPlay'\r\n        ]),\r\n        //计算当前搜索结果表里的数据\r\n        data(){\r\n            return this.tableData.slice((this.pageNum - 1) * this.pageSize,this.pageNum * this.pageSize)\r\n        }\r\n    },\r\n    watch:{\r\n        //搜索框里面的内容发生变化的时候，搜索结果table列表的内容跟着它的内容发生变化\r\n        select_word: function(){\r\n            if(this.select_word == ''){\r\n                this.tableData = this.tempData;\r\n            }else{\r\n                this.tableData = [];\r\n                for(let item of this.tempData){\r\n                    if(item.name.includes(this.select_word)){\r\n                        this.tableData.push(item);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.singerId = this.$route.query.id;\r\n        this.singerName = this.$route.query.name;\r\n        this.getData();\r\n    },\r\n    destroyed() {\r\n        this.pauseVisible=true;\r\n        this.$store.commit('setIsPlay',false);\r\n    },\r\n    methods:{\r\n        handleCheckedCitiesChange(value){\r\n            this.form.style=value\r\n        },\r\n        //获取当前页\r\n        handleCurrentChange(val){\r\n            this.pageNum = val;\r\n            this.getData();\r\n        },\r\n        //获取当前页显示条数\r\n        handleSizeChange(val){\r\n            this.pageSize = val;\r\n            this.getData();\r\n        },\r\n        //查询某位歌手的所有歌曲\r\n        getData(){\r\n            this.tempData = [];\r\n            this.tableData = [];\r\n            var params = {pageSize:this.pageSize, pageNum:this.pageNum, songName:this.songName, singerId:this.singerId}\r\n            // var params = {pageSize:this.pageSize, pageNum:this.pageNum, songName:this.songName, singerId:this.singerId}\r\n            songOfSingerId(params).then(res => {\r\n                this.tempData = res.data.records;\r\n                this.tableData = res.data.records;\r\n                this.total = res.data.total\r\n            })\r\n        },\r\n        //添加歌曲\r\n        addSong(){\r\n            let _this = this;\r\n            var form = new FormData(document.getElementById('tf'));\r\n            form.set('style', _this.songStyle.toString())\r\n            form.append('singerId',this.singerId);\r\n            form.set('name', form.get('name'));\r\n            if(!form.get('lyric')){\r\n                form.set('lyric','[00:00:00]暂无歌词');\r\n            }\r\n            var req = new XMLHttpRequest();\r\n            req.onreadystatechange = function(){\r\n                //req.readyState == 4 获取到返回的完整数据\r\n                //req.status == 200 和后台正常交互完成\r\n                if(req.readyState == 4 && req.status == 200){\r\n                    let res = JSON.parse(req.response);\r\n                    if(res.code == 1){\r\n                        _this.getData();\r\n                        _this.registerForm = {};\r\n                        _this.notify(res.message,'success');\r\n                    }else{\r\n                         _this.notify(res.message,'error');\r\n                    }\r\n                }\r\n            }\r\n            req.open('post',`${_this.$store.state.HOST}/song/add`,false);\r\n            req.send(form);\r\n            _this.centerDialogVisible = false;\r\n        },\r\n\r\n        //弹出编辑页面\r\n        handleEdit(row){\r\n            this.editVisible = true;\r\n            this.form = {\r\n                id: row.id,\r\n                name: row.name,\r\n                album: row.album,\r\n                lyric: row.lyric,\r\n                style: row.style,\r\n            }\r\n        },\r\n        //保存编辑页面修改的数据\r\n        editSave(){            \r\n            this.song.id = this.form.id\r\n            this.song.name = this.form.name;\r\n            this.song.album = this.form.album;\r\n            this.song.lyric = this.form.lyric;\r\n            this.song.style = this.form.style.toString();\r\n            var song1 = this.song\r\n\r\n            updateSong(song1)\r\n            .then(res => {\r\n                if(res.code == 1){\r\n                    this.getData();\r\n                    this.notify(res.message,\"success\");\r\n                }else{\r\n                    this.notify(res.message,\"error\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n            this.editVisible = false;\r\n        },\r\n        //更新图片\r\n        uploadUrl(id){\r\n            return `${this.$store.state.HOST}/song/updateSongPic?id=${id}`\r\n        },\r\n        //删除一名歌手\r\n        deleteRow(){\r\n            delSong(this.idx)\r\n            .then(res => {\r\n                if(res){\r\n                    this.getData();\r\n                    this.notify(res.message,\"success\");\r\n                }else{\r\n                    this.notify(res.message,\"error\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n            this.delVisible = false;\r\n        },\r\n        //解析歌词\r\n        parseLyric(text){\r\n            let lines = text.split(\"\\n\");\r\n            let pattern = /\\[\\d{2}:\\d{2}.(\\d{3}|\\d{2})\\]/g;\r\n            let result = [];\r\n            for(let item of lines){\r\n                let value = item.replace(pattern,'');\r\n                result.push(value);\r\n            }\r\n            return result;\r\n        },\r\n        //上传歌曲之前的校验\r\n        beforeSongUpload(file){\r\n            var testMsg = file.name.substring(file.name.lastIndexOf('.') + 1);\r\n            if(testMsg!='mp3'){\r\n                this.$message({\r\n                    message: '文件格式错误',\r\n                    type: 'error'\r\n                });\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        //上传歌曲成功之后要做的工作\r\n        handleSongSuccess(res){\r\n            let _this = this;\r\n            if(res.code == 1){\r\n                _this.getData();\r\n                _this.$notify({\r\n                    title: res.message,\r\n                    type: 'success'\r\n                });\r\n            }else{\r\n                _this.$notify({\r\n                    title: res.message,\r\n                    type: 'error'\r\n                });\r\n            }\r\n        },\r\n        //更新歌曲url\r\n        uploadSongUrl(id){\r\n            return `${this.$store.state.HOST}/song/updateSong?id=${id}`\r\n        },\r\n        //切换播放歌曲\r\n        setSongUrl(url,name){\r\n         if(this.toggle==name){\r\n             this.toggle=false;\r\n             this.$store.commit('setIsPlay',false);\r\n         }else{\r\n             this.toggle=name;\r\n             this.$store.commit('setUrl',this.$store.state.HOST+'/'+url);\r\n             this.$store.commit('setIsPlay',true);\r\n            }\r\n        }\r\n    }   \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .handle-box{\r\n        margin-bottom: 20px;\r\n    }\r\n    .song-img{\r\n        width: 100%;\r\n        height: 80px;\r\n        border-radius: 5px;\r\n        margin-bottom: 5px;\r\n        overflow: hidden;\r\n    }\r\n    .handle-input{\r\n        width: 300px;\r\n        display: inline-block;\r\n    }\r\n    .pagination{\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n    .play {\r\n        position: absolute;\r\n        z-index: 100;\r\n        width: 80px;\r\n        height: 80px;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        cursor: pointer;\r\n        top: 18px;\r\n        left: 15px;\r\n    }\r\n\r\n    .icon {\r\n        width: 2em;\r\n        height: 2em;\r\n        color: white;\r\n        fill: currentColor;\r\n        overflow: hidden;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/SongPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"crumbs\"},[_c('i',{staticClass:\"el-icon-tickets\",staticStyle:{\"font-size\":\"18px\",\"padding-top\":\"18px\"}},[_vm._v(_vm._s(this.singerName)+\"-音乐列表\")])]),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_vm._v(\"\\n            在当前页搜索：\\n            \"),_c('el-input',{staticClass:\"handle-input\",attrs:{\"size\":\"mini\",\"placeholder\":\"请输入歌曲名\"},model:{value:(_vm.select_word),callback:function ($$v) {_vm.select_word=$$v},expression:\"select_word\"}}),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\"\\n            搜  索  全  部 ：\\n            \"),_c('el-input',{staticClass:\"handle-input\",attrs:{\"size\":\"mini\",\"placeholder\":\"请输入歌曲名\"},model:{value:(_vm.songName),callback:function ($$v) {_vm.songName=$$v},expression:\"songName\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.getData}},[_vm._v(\"搜索\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.delBatch}},[_vm._v(\"批量删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.centerDialogVisible = true}}},[_vm._v(\"添加歌曲\")])],1)]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"border\":\"\",\"height\":\"680px\",\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"歌曲图片\",\"width\":\"110\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"song-img\"},[_c('img',{staticStyle:{\"width\":\"100%\"},attrs:{\"src\":_vm.getUrl(scope.row.pic)}})]),_vm._v(\" \"),_c('div',{staticClass:\"play\",on:{\"click\":function($event){return _vm.setSongUrl(scope.row.url,scope.row.name)}}},[(_vm.toggle == scope.row.name)?_c('div',[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-zanting\"}})])]):_vm._e(),_vm._v(\" \"),(_vm.toggle != scope.row.name)?_c('div',[_c('svg',{staticClass:\"icon\"},[_c('use',{attrs:{\"xlink:href\":\"#icon-bofanganniu\"}})])]):_vm._e()])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"歌名\",\"width\":\"120\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"album\",\"label\":\"专辑\",\"width\":\"150\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"歌词\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('ul',{staticStyle:{\"height\":\"100px\",\"overflow-y\":\"scroll\"}},_vm._l((_vm.parseLyric(scope.row.lyric)),function(item,index){return _c('li',{key:index},[_vm._v(\"\\n                        \"+_vm._s(item)+\"\\n                    \")])}),0)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"资源更新\",\"align\":\"center\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-upload',{attrs:{\"action\":_vm.uploadUrl(scope.row.id),\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"更新图片\")])],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('el-upload',{attrs:{\"action\":_vm.uploadSongUrl(scope.row.id),\"before-upload\":_vm.beforeSongUpload,\"on-success\":_vm.handleSongSuccess}},[_c('el-button',{attrs:{\"size\":\"mini\"}},[_vm._v(\"更新歌曲\")])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"background\":\"\",\"page\":_vm.pageNum,\"page-sizes\":[1, 10, 20, 50],\"limit\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":this.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:page\":function($event){_vm.pageNum=$event},\"update:limit\":function($event){_vm.pageSize=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加歌曲\",\"visible\":_vm.centerDialogVisible,\"width\":\"400px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"label-width\":\"80px\",\"action\":\"\",\"id\":\"tf\"}},[_c('div',[_c('label',[_vm._v(\"歌名\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"text\",\"name\":\"name\"},model:{value:(_vm.registerForm.name),callback:function ($$v) {_vm.$set(_vm.registerForm, \"name\", $$v)},expression:\"registerForm.name\"}})],1),_vm._v(\" \"),_c('div',[_c('label',[_vm._v(\"专辑\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"text\",\"name\":\"album\"},model:{value:(_vm.registerForm.album),callback:function ($$v) {_vm.$set(_vm.registerForm, \"album\", $$v)},expression:\"registerForm.album\"}})],1),_vm._v(\" \"),_c('div',[_c('label',[_vm._v(\"歌词\")]),_vm._v(\" \"),_c('el-input',{attrs:{\"type\":\"textarea\",\"name\":\"lyric\"},model:{value:(_vm.registerForm.lyric),callback:function ($$v) {_vm.$set(_vm.registerForm, \"lyric\", $$v)},expression:\"registerForm.lyric\"}})],1),_vm._v(\" \"),_c('div',[_c('label',[_vm._v(\"风格\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"multiple\":\"\",\"multiple-limit\":3,\"name\":\"style\",\"placeholder\":\"请选择至多3项\"},model:{value:(_vm.songStyle),callback:function ($$v) {_vm.songStyle=$$v},expression:\"songStyle\"}},_vm._l((_vm.styles),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('div',[_c('label',[_vm._v(\"歌曲上传\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"file\"}})])]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.addSong}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改歌曲\",\"visible\":_vm.editVisible,\"width\":\"400px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"prop\":\"name\",\"label\":\"歌名\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"placeholder\":\"歌名\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"album\",\"label\":\"专辑\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"placeholder\":\"专辑\"},model:{value:(_vm.form.album),callback:function ($$v) {_vm.$set(_vm.form, \"album\", $$v)},expression:\"form.album\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"lyric\",\"label\":\"歌词\",\"size\":\"mini\"}},[_c('el-input',{attrs:{\"placeholder\":\"歌词\",\"type\":\"textarea\"},model:{value:(_vm.form.lyric),callback:function ($$v) {_vm.$set(_vm.form, \"lyric\", $$v)},expression:\"form.lyric\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"style\",\"label\":\"风格\",\"size\":\"mini\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"multiple-limit\":3,\"placeholder\":\"请选择至多3项\"},model:{value:(_vm.form.style),callback:function ($$v) {_vm.$set(_vm.form, \"style\", $$v)},expression:\"form.style\"}},_vm._l((_vm.styles),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.editSave}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"删除歌曲\",\"visible\":_vm.delVisible,\"width\":\"300px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.delVisible=$event}}},[_c('div',{attrs:{\"align\":\"center\"}},[_vm._v(\"删除不可恢复，是否确定删除？\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.delVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.deleteRow}},[_vm._v(\"确定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"暂停歌曲？\",\"visible\":_vm.pauseVisible,\"width\":\"300px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.pauseVisible=$event}}},[_c('div',{attrs:{\"align\":\"center\"}},[_vm._v(\"是否暂停当前播放歌曲？\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.pauseVisible = false}}},[_vm._v(\"继续播放\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":_vm.deleteRow}},[_vm._v(\"停止播放\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41ec95c5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SongPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41ec95c5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SongPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SongPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SongPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41ec95c5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SongPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41ec95c5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SongPage.vue\n// module id = null\n// module chunks = ","/* eslint-disable */\n!function(a){var e,n='<svg><symbol id=\"icon-bofanganniu\" viewBox=\"0 0 1024 1024\"><path d=\"M927.870095 571.688039 167.320423 1014.160886C121.562471 1041.981153 61.44 1007.279555 61.44 954.218179L61.44 68.595037C63.693916 16.802233 124.631347-17.041827 171.276012 8.961322L928.382003 451.43039C974.037627 479.202079 974.037627 543.611136 927.870095 571.688039Z\"  ></path></symbol><symbol id=\"icon-zanting\" viewBox=\"0 0 1024 1024\"><path d=\"M268.97201558 114.31784297c73.21218086 0 132.56071902 59.34853814 132.56071901 132.560719v530.24287606c0 73.21218086-59.34853814 132.56071902-132.56071901 132.560719s-132.56071902-59.34853814-132.56071901-132.560719V246.87856197c0-73.21218086 59.34853814-132.56071902 132.56071901-132.560719z m486.05596884 0c73.21218086 0 132.56071902 59.34853814 132.56071901 132.560719v530.24287606c0 73.21218086-59.34853814 132.56071902-132.56071901 132.560719s-132.56071902-59.34853814-132.56071901-132.560719V246.87856197c0-73.21218086 59.34853814-132.56071902 132.56071901-132.560719z\"  ></path></symbol></svg>',t=(e=document.getElementsByTagName(\"script\"))[e.length-1].getAttribute(\"data-injectcss\");if(t&&!a.__iconfont__svg__cssinject__){a.__iconfont__svg__cssinject__=!0;try{document.write(\"<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>\")}catch(e){console&&console.log(e)}}!function(e){if(document.addEventListener)if(~[\"complete\",\"loaded\",\"interactive\"].indexOf(document.readyState))setTimeout(e,0);else{var t=function(){document.removeEventListener(\"DOMContentLoaded\",t,!1),e()};document.addEventListener(\"DOMContentLoaded\",t,!1)}else document.attachEvent&&(o=e,i=a.document,c=!1,(d=function(){try{i.documentElement.doScroll(\"left\")}catch(e){return void setTimeout(d,50)}n()})(),i.onreadystatechange=function(){\"complete\"==i.readyState&&(i.onreadystatechange=null,n())});function n(){c||(c=!0,o())}var o,i,c,d}(function(){var e,t;(e=document.createElement(\"div\")).innerHTML=n,n=null,(t=e.getElementsByTagName(\"svg\")[0])&&(t.setAttribute(\"aria-hidden\",\"true\"),t.style.position=\"absolute\",t.style.width=0,t.style.height=0,t.style.overflow=\"hidden\",function(e,t){t.firstChild?function(e,t){t.parentNode.insertBefore(e,t)}(e,t.firstChild):t.appendChild(e)}(t,document.body))})}(window);\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/iconfont.js"],"sourceRoot":""}