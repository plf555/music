{"version":3,"sources":["webpack:///src/pages/SwiperPage.vue","webpack:///./src/pages/SwiperPage.vue?9cdc","webpack:///./src/pages/SwiperPage.vue"],"names":["SwiperPage","components","v-distpicker","v_distpicker_default","a","mixins","data","centerDialogVisible","editVisible","delVisible","registerForm","singerName","singerId","form","id","tableData","tempData","select_word","pageSize","pageNum","total","idx","multipleSelection","allSingerTable","swiper","computed","this","slice","watch","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","item","value","includes","push","err","return","created","getData","getAllSinger","methods","handleCurrentChange","val","handleSizeChange","_this2","Object","api","then","res","i","_this3","params","records","addSwiper","_this","FormData","document","getElementById","append","req","XMLHttpRequest","onreadystatechange","readyState","status","JSON","parse","response","code","notify","message","open","$store","state","HOST","send","handleEdit","row","singerSelect","event","singerSelect1","editSave","name","_this4","swiper1","catch","console","log","deleteRow","_this5","pages_SwiperPage","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","size","placeholder","model","callback","$$v","expression","type","on","click","delBatch","$event","ref","staticStyle","width","border","row-style","height","cell-style","padding","selection-change","handleSelectionChange","label","align","scopedSlots","_u","key","fn","scope","src","getUrl","url","prop","handleDelete","text-align","directives","rawName","background","page","page-sizes","limit","layout","size-change","current-change","update:page","update:limit","title","visible","center","update:visible","label-width","action","remote","reserve-keyword","filterable","change","$set","_l","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.1a31a70b2b4b35fd4964.js","sourcesContent":["<template>\r\n    <div class=\"table\">\r\n        <div class=\"container\">\r\n            <div class=\"handle-box\">\r\n                在当前页搜索：\r\n                <el-input v-model=\"select_word\" size=\"mini\" placeholder=\"请输入绑定歌手\" class=\"handle-input\"></el-input>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"delBatch\">批量删除</el-button>\r\n                <el-button type=\"primary\" size=\"mini\" @click=\"centerDialogVisible = true\">添加轮播图</el-button>\r\n            </div>\r\n        </div>\r\n        <el-table size=\"mini\" ref=\"multipleTable\" border style=\"width:100%\" :row-style=\"{height:'370px'}\" :cell-style=\"{padding:'0px'}\" :data=\"this.tableData\" @selection-change=\"handleSelectionChange\">   \r\n            <el-table-column type=\"selection\" width=\"40\"></el-table-column>\r\n            <el-table-column label=\"轮播图\" width=\"1000\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <div class=\"singer-img\">\r\n                        <img :src=\"getUrl(scope.row.url)\" style=\"width:640px\"/>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"singerName\" label=\"绑定歌手\" width=\"220\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"updateTime\" label=\"更新时间\" width=\"220\" align=\"center\"></el-table-column>\r\n            <el-table-column label=\"操作\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.row.id)\">删除</el-button> \r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div class=\"pagination\" style=\"text-align: right\">\r\n            <el-pagination\r\n                v-show=\"total > 0\"\r\n                background\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :page.sync=\"pageNum\"\r\n                :page-sizes=\"[2, 5, 10, 20]\"\r\n                :limit.sync=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=this.total>\r\n                \r\n            </el-pagination>\r\n        </div>\r\n\r\n        <el-dialog title=\"添加轮播图\" :visible.sync=\"centerDialogVisible\" width=\"400px\" center>\r\n            <el-form :model=\"registerForm\" ref=\"registerForm\" label-width=\"100px\" action=\"\" id=\"tf1\">\r\n                <el-form-item>\r\n                    <label>绑定歌手</label>\r\n                    <el-select  v-model=\"registerForm.singerName\" name='singerName' placeholder=\"请输入歌手名\" @change=\"singerSelect1($event)\"\r\n                    :remote=\"true\"\r\n                    style=\"width: 100%;\"\r\n                    reserve-keyword\r\n                    :filterable=\"true\">\r\n                    <el-option v-for=\"item in allSingerTable\" \r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"{singerName:item.name,singerId:item.id}\">\r\n                    </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <label>上传图片</label>\r\n                    <input type=\"file\" name=\"file\">\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"centerDialogVisible = false\">取消</el-button>\r\n                <el-button size=\"mini\" @click=\"addSwiper\">确定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog title=\"编辑此轮播图\" :visible.sync=\"editVisible\" width=\"400px\" center>\r\n            <el-form :model=\"form\" ref=\"form\" label-width=\"100px\">\r\n                <el-form-item prop=\"singerName\" label=\"更改绑定歌手\" size=\"mini\">\r\n                    <!-- <el-input v-model=\"form.singerName\" placeholder=\"歌手名\"></el-input> -->\r\n                    <el-select  v-model=\"form.singerName\" placeholder=\"请输入歌手名\" @change=\"singerSelect($event)\"\r\n                    :remote=\"true\"\r\n                    style=\"width: 100%;\"\r\n                    reserve-keyword\r\n                    :filterable=\"true\">\r\n                    <el-option v-for=\"item in allSingerTable\" \r\n                        :key=\"item.id\"\r\n                        :label=\"item.name\"\r\n                        :value=\"{singerName:item.name,singerId:item.id}\">\r\n                    </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"editVisible = false\">取消</el-button>\r\n                <el-button size=\"mini\" @click=\"editSave()\">确定</el-button>                \r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog title=\"删除轮播图\" :visible.sync=\"delVisible\" width=\"300px\" center>\r\n            <div align=\"center\">删除不可恢复，是否确定删除？</div>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"delVisible = false\">取消</el-button>\r\n                <el-button size=\"mini\" @click=\"deleteRow\">确定</el-button>                \r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {setSwiper, getAllSwiper,deleteASwiper,allSinger,updateSwiper} from '../api/index';\r\nimport VDistpicker from \"v-distpicker\";\r\nimport { mixin } from '../mixins/index';\r\nexport default {\r\n    components: {\r\n        \"v-distpicker\":VDistpicker\r\n    },\r\n    mixins: [mixin],\r\n    data(){\r\n        return{\r\n            centerDialogVisible: false, //添加弹窗是否显示\r\n            editVisible: false,         //编辑弹窗是否显示\r\n            delVisible: false,          //删除弹窗是否显示\r\n            registerForm:{      //添加框\r\n                singerName: '',\r\n                singerId: '',\r\n            },\r\n            form:{      //编辑框\r\n                id: '',\r\n                singerId: '',\r\n                singerName: '',\r\n            },\r\n            tableData: [], //表格数据\r\n            tempData: [], //表格中的临时数据，用于模糊搜索框\r\n            select_word: '', //搜索框中输入的文字\r\n            pageSize: 10,    //分页每页大小\r\n            pageNum: 1,  //当前页\r\n            total: 0, //查询总数\r\n            idx: -1,          //当前选择项\r\n            multipleSelection: [],   //哪些项已经打勾\r\n            allSingerTable: [],   //所有歌手\r\n            swiper: {}, //轮播图对象\r\n        }\r\n    },\r\n    computed:{\r\n        //计算当前搜索结果表里的数据\r\n        data(){\r\n            return this.tableData.slice((this.pageNum - 1) * this.pageSize,this.pageNum * this.pageSize)\r\n        }\r\n    },\r\n    watch:{\r\n        //搜索框里面的内容发生变化的时候，搜索结果table列表的内容跟着它的内容发生变化\r\n        select_word: function(){\r\n            if(this.select_word == ''){\r\n                this.tableData = this.tempData;\r\n            }else{\r\n                this.tableData = [];\r\n                for(let item of this.tempData){\r\n                    if(item.singerName.includes(this.select_word)){\r\n                        this.tableData.push(item);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.getData();\r\n        this.getAllSinger(); \r\n    },\r\n    methods:{\r\n        //获取当前页\r\n        handleCurrentChange(val){\r\n            this.pageNum = val;\r\n            this.getData();\r\n        },\r\n        //获取当前页显示条数\r\n        handleSizeChange(val){\r\n            this.pageSize = val;\r\n            this.getData();\r\n        },\r\n        //查询所有歌手\r\n        getAllSinger() {  \r\n            this.allSingerTable = [];\r\n            allSinger().then(res => {\r\n                for(let i in res.data){\r\n                    this.allSingerTable.push(res.data[i]);\r\n                }\r\n            })\r\n        },\r\n        getData(){\r\n            this.tempData = [];\r\n            this.tableData = [];\r\n            var params = {pageSize:this.pageSize, pageNum:this.pageNum}\r\n            getAllSwiper(params).then(res => {\r\n                this.tempData = res.data.records;\r\n                this.tableData = res.data.records;\r\n                this.total = res.data.total\r\n                // this.pageNum = 1;\r\n            })\r\n        },\r\n        //添加轮播图\r\n        addSwiper(){\r\n            let _this = this;\r\n            var form = new FormData(document.getElementById('tf1'));\r\n            form.append('singerName', this.registerForm.singerName);\r\n            form.append('singerId', this.registerForm.singerId);\r\n            var req = new XMLHttpRequest();\r\n            req.onreadystatechange = function(){\r\n                //req.readyState == 4 获取到返回的完整数据\r\n                //req.status == 200 和后台正常交互完成\r\n                if(req.readyState == 4 && req.status == 200){\r\n                    let res = JSON.parse(req.response);\r\n                    if(res.code == 1){\r\n                        _this.getData();\r\n                        _this.registerForm = {};\r\n                        _this.notify(res.message,'success');\r\n                    }else{\r\n                         _this.notify(res.message,'error');\r\n                    }\r\n                }\r\n            }\r\n            req.open('post',`${_this.$store.state.HOST}/swiper/addSwiper`,false);\r\n            // req.setRequestHeader(\"Content-type\",\"multipart/form-data\");\r\n            req.send(form);\r\n            _this.centerDialogVisible = false;\r\n        },\r\n        //弹出编辑页面\r\n        handleEdit(row){\r\n            this.editVisible = true;\r\n            this.form = {\r\n                id: row.id,\r\n                // singerName: row.singerName,\r\n                singerId: row.singerId\r\n            }\r\n        },\r\n        singerSelect(event){\r\n            this.form.singerId = event.singerId\r\n            this.form.singerName = event.singerName\r\n        },\r\n        singerSelect1(event){\r\n            this.registerForm.singerId = event.singerId\r\n            this.registerForm.singerName = event.singerName\r\n        },\r\n        //保存编辑页面修改的数据\r\n        editSave(name){\r\n            this.swiper.id = this.form.id\r\n            this.swiper.singerId = this.form.singerId;\r\n            this.swiper.singerName = this.form.singerName;\r\n            var swiper1 = this.swiper\r\n            updateSwiper(swiper1)\r\n            .then(res => {\r\n                if(res.code == 1){\r\n                    this.getData();\r\n                    this.notify(res.message,\"success\");\r\n                }else{\r\n                    this.notify(res.message,\"error\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n            this.editVisible = false;\r\n        },\r\n        //删除轮播图\r\n        deleteRow(){\r\n            deleteASwiper(this.idx)\r\n            .then(res => {\r\n                if(res.code == 1){\r\n                    this.getData();\r\n                    this.notify(res.message,\"success\");\r\n                }else{\r\n                    this.notify(res.message,\"error\");\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            });\r\n            this.delVisible = false;\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .handle-box{\r\n        margin-bottom: 20px;\r\n    }\r\n    .singer-img{\r\n        width: 100%;\r\n        height: 370px;\r\n        border-radius: 5px;\r\n        margin-bottom: 5px;\r\n        overflow: hidden;\r\n    }\r\n    .handle-input{\r\n        width: 300px;\r\n        display: inline-block;\r\n    }\r\n    .pagination{\r\n        display: flex;\r\n        justify-content: center;\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/SwiperPage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"table\"},[_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_vm._v(\"\\n            在当前页搜索：\\n            \"),_c('el-input',{staticClass:\"handle-input\",attrs:{\"size\":\"mini\",\"placeholder\":\"请输入绑定歌手\"},model:{value:(_vm.select_word),callback:function ($$v) {_vm.select_word=$$v},expression:\"select_word\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.delBatch}},[_vm._v(\"批量删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.centerDialogVisible = true}}},[_vm._v(\"添加轮播图\")])],1)]),_vm._v(\" \"),_c('el-table',{ref:\"multipleTable\",staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"mini\",\"border\":\"\",\"row-style\":{height:'370px'},\"cell-style\":{padding:'0px'},\"data\":this.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"40\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"轮播图\",\"width\":\"1000\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"singer-img\"},[_c('img',{staticStyle:{\"width\":\"640px\"},attrs:{\"src\":_vm.getUrl(scope.row.url)}})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"singerName\",\"label\":\"绑定歌手\",\"width\":\"220\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"更新时间\",\"width\":\"220\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\",staticStyle:{\"text-align\":\"right\"}},[_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.total > 0),expression:\"total > 0\"}],attrs:{\"background\":\"\",\"page\":_vm.pageNum,\"page-sizes\":[2, 5, 10, 20],\"limit\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":this.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:page\":function($event){_vm.pageNum=$event},\"update:limit\":function($event){_vm.pageSize=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"添加轮播图\",\"visible\":_vm.centerDialogVisible,\"width\":\"400px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('el-form',{ref:\"registerForm\",attrs:{\"model\":_vm.registerForm,\"label-width\":\"100px\",\"action\":\"\",\"id\":\"tf1\"}},[_c('el-form-item',[_c('label',[_vm._v(\"绑定歌手\")]),_vm._v(\" \"),_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"name\":\"singerName\",\"placeholder\":\"请输入歌手名\",\"remote\":true,\"reserve-keyword\":\"\",\"filterable\":true},on:{\"change\":function($event){return _vm.singerSelect1($event)}},model:{value:(_vm.registerForm.singerName),callback:function ($$v) {_vm.$set(_vm.registerForm, \"singerName\", $$v)},expression:\"registerForm.singerName\"}},_vm._l((_vm.allSingerTable),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":{singerName:item.name,singerId:item.id}}})}),1)],1),_vm._v(\" \"),_c('el-form-item',[_c('label',[_vm._v(\"上传图片\")]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"file\",\"name\":\"file\"}})])],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.addSwiper}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑此轮播图\",\"visible\":_vm.editVisible,\"width\":\"400px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.editVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"prop\":\"singerName\",\"label\":\"更改绑定歌手\",\"size\":\"mini\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请输入歌手名\",\"remote\":true,\"reserve-keyword\":\"\",\"filterable\":true},on:{\"change\":function($event){return _vm.singerSelect($event)}},model:{value:(_vm.form.singerName),callback:function ($$v) {_vm.$set(_vm.form, \"singerName\", $$v)},expression:\"form.singerName\"}},_vm._l((_vm.allSingerTable),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":{singerName:item.name,singerId:item.id}}})}),1)],1)],1),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.editVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editSave()}}},[_vm._v(\"确定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"删除轮播图\",\"visible\":_vm.delVisible,\"width\":\"300px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.delVisible=$event}}},[_c('div',{attrs:{\"align\":\"center\"}},[_vm._v(\"删除不可恢复，是否确定删除？\")]),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.delVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.deleteRow}},[_vm._v(\"确定\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6374cd68\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/SwiperPage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6374cd68\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SwiperPage.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SwiperPage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./SwiperPage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6374cd68\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./SwiperPage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6374cd68\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/SwiperPage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}